üß¨ Dzagurov KDL ‚Äî Medical Web Platform

–í–µ–±-–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–π –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏–∏ ¬´–î–∑–∞–≥—É—Ä–æ–≤ –ö–î–õ¬ª, –æ–±—ä–µ–¥–∏–Ω—è—é—â–∞—è –ø—É–±–ª–∏—á–Ω—ã–π —Å–∞–π—Ç, –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç, –æ–Ω–ª–∞–π–Ω-—á–∞—Ç –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å VK –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ–±—Ä–∞—â–µ–Ω–∏–π –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤ –∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤.

–ü—Ä–æ–µ–∫—Ç –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ —É–º–µ–Ω—å—à–µ–Ω–∏–µ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ—Å—Ç–∏ –≤ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è—Ö –º–µ–∂–¥—É –ø–∞—Ü–∏–µ–Ω—Ç–æ–º –∏ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏–µ–π, —Å —É–ø–æ—Ä–æ–º –Ω–∞ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å, –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å –∏ —á–∏—Å—Ç—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É.

üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
üåê –ü—É–±–ª–∏—á–Ω—ã–π —Å–∞–π—Ç

–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏–∏

–£—Å–ª—É–≥–∏, –∫–æ–Ω—Ç–∞–∫—Ç—ã, —Ñ–æ—Ä–º—ã –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏

SEO-–¥—Ä—É–∂–µ—Å—Ç–≤–µ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∞–∫–∫–∞—É–Ω—Ç—ã

Session-based –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

–ó–∞—â–∏—Ç–∞ CSRF

–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é (–ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç, –∏—Å—Ç–æ—Ä–∏—è –æ–±—Ä–∞—â–µ–Ω–∏–π)

üí¨ –û–Ω–ª–∞–π–Ω-—á–∞—Ç

Floating-–≤–∏–¥–∂–µ—Ç (FAB)

Glass-UI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

–†–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ React / Vue

–ü–æ–ª–Ω–æ—Å—Ç—å—é –∫–∞—Å—Ç–æ–º–Ω—ã–π JavaScript

–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä—Å–∫–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π

üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å VK

VK Callback API

–î–≤—É–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –æ–±–º–µ–Ω —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏

–ó–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–µ–π (idempotency)

–ü—Ä–∏–≤—è–∑–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –∫ –¥–∏–∞–ª–æ–≥–∞–º

üß† –ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å

–ó–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π VK

–ö–æ–Ω—Ç—Ä–æ–ª—å —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ —á–∞—Ç–æ–≤

–ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ —Å–µ—Ç–µ–≤—ã—Ö —Å–±–æ—è—Ö

‚öôÔ∏è –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é

Polling ‚Üí Long-poll

–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ WebSocket

–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –ø–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º

üß± –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ Django —Å —á—ë—Ç–∫–∏–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –Ω–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

dzagurov/
‚îú‚îÄ‚îÄ main/          # –ü—É–±–ª–∏—á–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
‚îú‚îÄ‚îÄ chat/          # –û–Ω–ª–∞–π–Ω-—á–∞—Ç + VK-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ accounts/      # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
‚îú‚îÄ‚îÄ static/        # CSS / JS / images
‚îú‚îÄ‚îÄ templates/     # HTML-—à–∞–±–ª–æ–Ω—ã
‚îî‚îÄ‚îÄ dzagurov/      # settings, urls, wsgi, asgi


–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –ø—Ä–∏–Ω—Ü–∏–ø:
–æ–¥–∏–Ω –º–æ–¥—É–ª—å ‚Äî –æ–¥–Ω–∞ –∑–æ–Ω–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏.

üß∞ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
Backend

üêç Python 3.10

üéØ Django 5.x

üêò PostgreSQL (production)

üî´ Gunicorn

üåê Nginx

Frontend

HTML5 / CSS3

Bootstrap

Vanilla JavaScript

Fetch API (AJAX)

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

üí¨ VK API (Callback API)

üîê CSRF Protection

üåç Session-based Authentication

üõ° –ó–∞—â–∏—Ç–∞ –æ—Ç brute-force (django-axes)

üí¨ –û–Ω–ª–∞–π–Ω-—á–∞—Ç

–ß–∞—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∫–∞–∫ floating-–≤–∏–¥–∂–µ—Ç, –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –≤ –ø—É–±–ª–∏—á–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

FAB-–∫–Ω–æ–ø–∫–∞

–°—Ç–µ–∫–ª—è–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (Glass UI)

–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π

–ü–æ–¥–¥–µ—Ä–∂–∫–∞ system-—Å–æ–æ–±—â–µ–Ω–∏–π

–ì–æ—Å—Ç–µ–≤–æ–π —Ä–µ–∂–∏–º (–±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)

–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã
static/js/chat_widget.js
static/css/custom_style.css

üóÇ –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö —á–∞—Ç–∞
ChatThread

–û–¥–∏–Ω –¥–∏–∞–ª–æ–≥ = –æ–¥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å / —Å–µ—Å—Å–∏—è

–°–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

–ú–æ–∂–µ—Ç –±—ã—Ç—å —Å–≤—è–∑–∞–Ω —Å VK-–¥–∏–∞–ª–æ–≥–æ–º

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç lifecycle (open / closed)

ChatMessage

–°–æ–æ–±—â–µ–Ω–∏—è –≤–Ω—É—Ç—Ä–∏ –¥–∏–∞–ª–æ–≥–∞

–¢–∏–ø—ã –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è:

visitor

operator

system

–ü–æ–¥–¥–µ—Ä–∂–∫–∞ vk_message_id –¥–ª—è idempotency

üîÅ –ó–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–µ–π (VK)

VK –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ —Å–æ–±—ã—Ç–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑.

–†–µ–∞–ª–∏–∑–∞—Ü–∏—è

–ü–æ–ª–µ vk_message_id ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ

–ü–æ–≤—Ç–æ—Ä–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è

VK –≤—Å–µ–≥–¥–∞ –ø–æ–ª—É—á–∞–µ—Ç ok

–ì–∞—Ä–∞–Ω—Ç–∏—è –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –¥—É–±–ª–µ–π –≤ —á–∞—Ç–µ

–≠—Ç–æ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã Callback API.

üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å VK

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è VK Callback API.

Endpoint
/chat/vk/callback/

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Å–æ–±—ã—Ç–∏—è

confirmation

message_new

üéØ –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –∏–∑ VK

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Ä—É—á–Ω–∞—è –ø—Ä–∏–≤—è–∑–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –∫ –¥–∏–∞–ª–æ–≥–∞–º.

–ü—Ä–∏–º–µ—Ä:

#50 –ü—Ä–∏–≤–µ—Ç


‚û° –°–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ø–∞–¥—ë—Ç —Ç–æ–ª—å–∫–æ –≤ –¥–∏–∞–ª–æ–≥ —Å ID = 50
–ï—Å–ª–∏ ID –Ω–µ —É–∫–∞–∑–∞–Ω ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–±—â–∏–π –¥–∏–∞–ª–æ–≥.

–≠—Ç–æ —É–¥–æ–±–Ω–æ –¥–ª—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ –∏ –º–æ–¥–µ—Ä–∞—Ü–∏–∏.

‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è VK

–í settings.py:

VK_CALLBACK_CONFIRMATION
VK_GROUP_TOKEN


üìå –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è, –Ω–µ —Ö—Ä–∞–Ω–∏—Ç—å —Ç–æ–∫–µ–Ω—ã –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.

üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

Polling (–æ–ø—Ä–æ—Å —Å–µ—Ä–≤–µ—Ä–∞)

–ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

‚è≥ Long-poll

‚ö° –°–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ CPU

üîå WebSocket (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ø—Ä–∏ —Ä–æ—Å—Ç–µ –Ω–∞–≥—Ä—É–∑–∫–∏)

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —É–∂–µ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–∞ –∫ —ç—Ç–∏–º –∏–∑–º–µ–Ω–µ–Ω–∏—è–º.

üîÑ Workflow —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø—Ä–æ—Ü–µ—Å—Å:

1. –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (PyCharm)
2. Commit & push –≤ GitHub
3. Deploy –Ω–∞ —Å–µ—Ä–≤–µ—Ä:
   git pull
   python manage.py migrate
   sudo systemctl restart gunicorn

üß™ –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫
python -m venv venv
source venv/bin/activate
pip install -r requirements.txt
python manage.py migrate
python manage.py runserver

üìå –°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞

üü¢ Production ready

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–π —Å—Ä–µ–¥–µ

–û–Ω–ª–∞–π–Ω-—á–∞—Ç –∏ VK-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∞–∫—Ç–∏–≤–Ω—ã

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–∞

–ö–æ–¥ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º –∏ —Ä–∞—Å—à–∏—Ä—è–µ–º

üë§ –ê–≤—Ç–æ—Ä

White_cat
–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
–†–æ—Å—Å–∏—è üá∑üá∫
